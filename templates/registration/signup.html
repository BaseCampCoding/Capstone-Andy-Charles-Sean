{% extends 'index.html' %}
{% load crispy_forms_tags %}

{% block title %}Sign Up{% endblock title%}
{% block content %}
<body>
    <form action="{% url 'signup' %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="sign-up-wrapper">
            <div class="row">
                <h1>Sign Up</h1>
                <div class="form-control">
                    {{ form.username }}
                    <span class="toggle">
                    <i class="fas fa-user-circle"></i>
                    </span>
                </div>
                <div class="form-control">
                    {{ form.first_name }}
                    <span class="toggle">
                        <i class="fas fa-user"></i>
                    </span>
                </div>
                <div class="form-control">
                    {{ form.last_name }}
                    <span class="toggle">
                        <i class="fas fa-user"></i>
                    </span>
                </div>
                <div class="form-control">
                    {{ form.roles }}
                    <span class="toggle">
                        <i class="fas fa-arrow-down"></i>
                    </span>
                </div>
                <div class="form-control">
                    {{ form.email }}
                    <span class="toggle">
                        <i class="fas fa-envelope"></i>
                    </span>
                </div>
                <div class="form-control">
                    {{ form.password1 }}
                    <span class="toggle" onclick="show$hide()">
                        <i class="fas fa-eye"></i>
                    </span>
                </div>
                <div class="form-control">
                    {{ form.password2 }}
                </div>
                <button class="btn" type="submit">
                    Sign Up
                </button>
            </div>
        </div>
    </form>
</body>

<style>

body {
    background: #dbdbdb; 
    background-image: url("https://www.jetsetter.com//uploads/sites/7/2018/10/MSH_023_ConcreteWater_MaryKang_-1380x1000.jpg");
    background-size: cover;
    background-repeat: no-repeat;
}
</style>

<script>
    const form_input = document.getElementsByTagName("input")
    form_input[2].placeholder = "Username"
    form_input[3].placeholder = "First Name"
    form_input[3].id = "first_name"
    form_input[4].placeholder = "Last Name"
    form_input[4].id = "last_name"
    form_input[5].placeholder = "Email"
    form_input[6].placeholder = "Password"
    form_input[6].id = "password"
    form_input[6].type = "password"
    form_input[7].placeholder = "Re-enter password"
    form_input[7].id = "password2"
    form_input[7].type = "password"

    function show$hide() {
      let password = document.querySelector("#password");
      let password2 = document.querySelector("#password2");
    
      if (password.getAttribute("type") == "password" && password2.getAttribute("type") == "password") {
        password.setAttribute("type", "text");
        password2.setAttribute("type", "text");
      } else {
        password.setAttribute("type", "password")
        password2.setAttribute("type", "password")
      }
    } 
    </script>
{% endblock content%}